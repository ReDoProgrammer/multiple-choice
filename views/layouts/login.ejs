<!--modal login --->
<div class="modal fade" id="modalLogin" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
aria-hidden="true">
<body class="signwrapper">
  <div class="sign-overlay"></div>
  <div class="signpanel"></div>
  <div class="panel signin">
    <div class="row text-right">
      <a href="#" class="btn btn-lg" id="btnCloseLoginModal"><i class="fa fa-times text-danger" aria-hidden="true"></i></a>
    </div>
    <div class="panel-heading">
      <h1>Trắc nghiệm</h1>
    </div>
    <div class="panel-body">
      <button class="btn btn-primary btn-quirk btn-fb btn-block">Đăng nhập bằng Facebook</button>
      <div class="or">hoặc</div>

        <div class="form-group mb10">
          <div class="input-group">
            <span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
            <input type="text" class="form-control" placeholder="Enter Username" id="txtSignIUsername">
          </div>
        </div>
        <div class="form-group nomargin">
          <div class="input-group">
            <span class="input-group-addon"><i class="glyphicon glyphicon-lock"></i></span>
            <input type="password" class="form-control" placeholder="Enter Password" id="txtSignInPassword">
          </div>
        </div>
        <div><a href="#" class="forgot">Quên mật khẩu?</a></div>
        <div class="form-group">
            <h4 class="text-danger" id="msgSignIn"></h4>
          <button class="btn btn-success btn-quirk btn-block" id="btnSignIn">Đăng nhập</button>
        </div>

      <hr class="invisible">
      <div class="form-group">
        <a href="" class="btn btn-default btn-quirk btn-stroke btn-stroke-thin btn-block btn-sign" id="btnRegisterSuddently">Không phải thành viên? Đăng ký ngay!</a>
      </div>
    </div>
  </div><!-- panel -->
</body>
</div>

<script type="text/javascript">
  $('#btnCloseLoginModal').click(function(e){
    e.preventDefault();
    $('#modalLogin').modal('hide');
  });
  $('#btnSignIn').click(function(){
    let username = $('#txtSignIUsername').val().trim();
    let password = $('#txtSignInPassword').val().trim();
    if(username.length == 0 || password.length == 0){
        $('#msgSignIn').text('Vui lòng nhập đủ tài khoản và mật khẩu');
        return;
    }
    $.ajax({
      url:'/thanh-vien/login',
      type:'post',
      data:{
        username:username,
        password:password
      },
      success:function(data){
        if(data.code == 200){
          location.reload()
        }else{
          $('#msgSignIn').text(data.msg);
        }
      }
    });
  });

  $('#btnRegisterSuddently').click(function(e){
    e.preventDefault();
    $('#modalLogin').modal('hide');
    $('#modalRegister').modal();
  })
</script>
